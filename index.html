<html>

<head>
	<meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
</head>

<style>
	* {
		margin: 0;
		padding: 0;
	}

	/* to remove the top and left whitespace */

	html,
	body {
		width: 100%;
		height: 100%;
	}

	/* just to be sure these are full screen*/

	canvas {
		display: block;
		height: 100vh; 
		width: 100vw; 
	}

	/* To remove the scrollbars */
</style>


<body>
	<script src="webgl-debug.js"></script>
	<script>
		Error.stackTraceLimit = Infinity;

		function test(){
			console.log("this is a test function!")
		}
	</script>
	<canvas id="canvas"></canvas>
	<script>
		function getWebGLContext(){
			ctx = WebGLDebugUtils.makeDebugContext(canvas.getContext("webgl2"));
			return ctx;

		}
	</script>
	<script type="module">

		const look_speed = 0.05;
		const move_speed = 1;

		function resizeCanvasToDisplaySize(canvas) {
			// https://webgl2fundamentals.org/webgl/lessons/webgl-resizing-the-canvas.html
				// Lookup the size the browser is displaying the canvas in CSS pixels.
				const displayWidth = canvas.clientWidth;
				const displayHeight = canvas.clientHeight;

				// Check if the canvas is not the same size.
				const needResize = canvas.width !== displayWidth ||
					canvas.height !== displayHeight;

				if (needResize) {
					// Make the canvas the same size
					canvas.width = displayWidth;
					canvas.height = displayHeight;
				}

				return needResize;
			}
			let canvas = document.getElementById("canvas");
			resizeCanvasToDisplaySize(canvas);

		// Use ES module import syntax to import functionality from the module
		// that we have compiled.
		//
		// Note that the `default` import is an initialization function which
		// will "boot" the module and make it ready to use. Currently browsers
		// don't support natively imported WebAssembly as an ES module, but
		// eventually the manual initialization won't be required!
		import init from './pkg/gs_rust.js';

		async function run() {
			const wasmInit = await init();
			const memory = wasmInit.memory;
			console.log(wasmInit)
		}

		run();
	</script>
</body>

</html>